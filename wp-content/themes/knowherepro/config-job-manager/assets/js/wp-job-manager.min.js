window.wp=window.wp||{},function(e,t){e.wp=e.wp||{};var o,n,i=e.document,a=e.jQuery,r={};o=function(){},n=function(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},a.extend(i,e),o.prototype=e.prototype,i.prototype=new o,t&&a.extend(i.prototype,t),n&&a.extend(i,n),i.prototype.constructor=i,i.__super__=e.prototype,i},r.Class=function(e,t,o){var n,i=arguments;return e&&t&&r.Class.applicator===e&&(i=t,a.extend(this,o||{})),n=this,this.instance&&(n=function(){return n.instance.apply(n,arguments)},a.extend(n,this)),n.initialize.apply(n,i),n},r.Class.extend=function(e,t){var o=n(this,e,t);return o.extend=this.extend,o},r.Class.applicator={},r.Class.prototype.initialize=function(){},r.Class.prototype.extended=function(e){for(var t=this;void 0!==t.constructor;){if(t.constructor===e)return!0;if(void 0===t.constructor.__super__)return!1;t=t.constructor.__super__}return!1},r.settings=knowhere_job_manager_localize,r.controllers={},r.DataServices=[],r.DataService=r.Class.extend({response:null,activeResponse:a.Deferred(),resultsContainer:"ul.job_listings",initialize:function(e){a.extend(this,e||{})},geocoder:null,auto:null,update:function(){},addResults:function(e){this.setFound()},setFound:function(){var e=_.isUndefined(r.controllers.dataService.response.found_posts)?0:r.controllers.dataService.response.found_posts;a(".kw-results-count").replaceWith('<div class="kw-results-count">'+r.settings.i18n.resultsFound.replace("%d",e)+"</div>")}}),r.DataServices.Job=r.DataService.extend({initialize:function(t){if(r.DataService.prototype.initialize.call(t),this.geocoder=new google.maps.Geocoder,this.isAddressGeocoded=!1,this.prevAddress=a("#search_location").val(),this.$target=a("div.job_listings"),this.$form=a("form.job_filters"),this.$address=a("#search_location"),this.$lat=a("#search_lat"),this.$lng=a("#search_lng"),this.auto="search_location",this.resultsContainer=this.$target.find("ul.job_listings"),this.radiusSlider(),this.locateMe(),0!==this.$target.length){var o=this;this.$target.on("updated_results",function(t,n){o.response=n,o.activeResponse.state("resolved")?o.addResults():e.console&&console.log("Data Service ready...")}),this.$target.on("update_results",function(e){o.maybeReverseGeocode()})}},maybeReverseGeocode:function(){r.controllers.dataService&&r.controllers.dataService.geocode&&""!==this.$address.val()&&(this.$address.val()!=this.prevAddress&&(this.isAddressGeocoded=!1),this.isAddressGeocoded||this.isAddressGeocoding||r.controllers.dataService.geocode(this.$address.val()))},radiusSearch:function(e,t){this.$lat.val(e),this.$lng.val(t),this.update()},radiusSlider:function(){var e,t=this,o=parseInt(knowhere_job_manager_localize.min_radius),n=parseInt(knowhere_job_manager_localize.max_radius),i=parseInt(knowhere_job_manager_localize.default_radius);a("#radius-range-slider").length>0&&(e=i,a("#radius-range-slider").slider({value:e,min:o,max:n,step:1,slide:function(e,o){t.updateRadius(o)},change:function(e,o){t.update()},stop:function(e,t){}}),a(".radi").html(a("#radius-range-slider").slider("value")),a("#search_radius").val(a("#radius-range-slider").slider("value")))},update:function(){this.$target.triggerHandler("update_results",[1,!1])},updateRadius:function(e){a(".radi").html(e.value),a("#search_radius").val(e.value)},locateMe:function(){if(navigator.geolocation){var e=this;a(".search_location").append('<i class="kw-locate-me"></i>'),a(".kw-locate-me").on(a.knowhere.EVENT,function(t){t.preventDefault(),a(this).addClass("loading"),navigator.geolocation.getCurrentPosition(e.locateMeSuccess,null,{enableHighAccuracy:!0})})}},locateMeSuccess:function(e){var t=e.coords.latitude,o=e.coords.longitude;r.controllers.dataService.geocode&&r.controllers.dataService.geocode(t+", "+o),a(".kw-locate-me").removeClass("loading")},autoComplete:function(e){var t=this,o=a("#"+e);if(0!==o.length){var n=new google.maps.places.Autocomplete(i.getElementById(e),{types:["geocode"]});o.unbind("change"),o.keypress(function(e){13==e.which&&r.controllers.dataService.update()}),n.addListener("place_changed",function(){var e=n.getPlace();e.geometry?(r.controllers.dataService.isAddressGeocoded=!0,r.controllers.dataService.radiusSearch(e.geometry.location.lat(),e.geometry.location.lng())):(r.controllers.dataService.isAddressGeocoded=!1,t.geocode(e.name))})}},geocode:function(e){this.isAddressGeocoding=!0,this.geocoder.geocode({address:e},function(t,o){if(o==google.maps.GeocoderStatus.OK){var n=t[0].geometry.location;r.controllers.dataService.prevAddress=e,r.controllers.dataService.isAddressGeocoded=!0,r.controllers.dataService.$address.val(t[0].formatted_address),r.controllers.dataService.radiusSearch(n.lat(),n.lng())}else r.controllers.dataService.isAddressGeocoded=!1;this.isAddressGeocoding=!1})}});var s=!1;function l(e){if("number"==typeof e||"boolean"==typeof e)return!1;if(null==e)return!0;if(void 0!==e.length)return 0===e.length;var t=0;for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t++;return 0===t}e.history&&e.history.pushState&&(s=!0),a.knowhere_job_manager_mod=a.knowhere_job_manager_mod||{},a.knowhere_job_manager_mod={init:function(){this.initLayoutControl(),this.initMapModule(),this.searchModule();var e=a(".wp-job-manager-file-upload");e.length&&e.each(function(e,t){var o=a(t),n=o.attr("id"),i=a('label[for="'+n+'"]');a('<div class="kw-file-input-field"><div class="kw-file-input-inner"><span class="lnr icon-picture kw-lead-icon"></span><span class="lnr icon-plus"></span>'+knowhere_job_manager_localize.strings["wp-job-manager-file-upload"]+"</div></div>").insertAfter(o).on("click",function(){i.trigger("click")})})},initScroll:function(){a(e).on("resize",function(){var t=a(".kw-page-listings:not(.kw-page-add-listing) .kw-left-position:not(.kw-without-map):not(.kw-left-position-extend) .kw-finder-filters, .kw-page-listings:not(.kw-page-add-listing) .kw-left-position:not(.kw-without-map):not(.kw-left-position-extend) .kw-finder-listings");t.length&&(e.innerWidth>=993?t.mCustomScrollbar({theme:"minimal-dark"}):t.mCustomScrollbar("destroy"))}).trigger("resize")},customizePadding:function(e){var t=a(".kw-page-listings:not(.kw-page-add-listing) .kw-content-area"),o=a(".kw-page-listings .kw-listings-gmap"),n=a(".kw-page-listings .kw-header"),i=a(".kw-page-listings .kw-left-position"),r=a(".kw-page-listings .kw-header-top"),s=a(".kw-page-listings .kw-flex-right"),l=a(".kw-finder-filters"),d=a(".kw-finder-listings"),c=a(".kw-finder-extend"),u=n.outerHeight(),p=u,g=u;o.length&&(i.hasClass("kw-left-position-extend")&&(g=c.position().top+30),e.width()<993?t.css("marginTop",""):(a("#wpadminbar").length&&(p+=a("#wpadminbar").outerHeight()),r.length&&r.css({height:p}),t.css("marginTop",p),i.length&&!i.hasClass("kw-left-position-extend")?l.length&&d.length&&s.length&&l.add(d).add(s).css({height:"calc(100vh - "+p+"px)"}):i.hasClass("kw-left-position-extend")?o.css("top",g):(o.css("top",p),o.css({height:"calc(100vh - "+p+"px)"}))))},eventHanlers:function(){var e=this,t=a(t);t.on("debouncedresize",function(){e.customizePadding(a(this)),setTimeout(function(){t.trigger("update:map"),t.trigger("pxg:refreshmap")})})},initMapModule:function(){(function(){var t,o,n,r=a("body"),s=a(e);function d(e){var n=a(".job_listings"),i=a(".job_listing",n),r=0;if(i.length){if(i.find(".kw-rating").length&&a.knowhere.templateHelpers.productRating(i.find(".kw-rating")),i.find(".kw-share-popup-link").length&&a.knowhere_job_manager_mod.popupLink(i.find(".kw-share-popup-link")),i.find(".kw-property-slideshow.owl-carousel").length&&a.knowhere.templateHelpers.propertySlideshow(i.find(".kw-property-slideshow.owl-carousel")),void 0!==e?a(".kw-results-count").replaceWith('<div class="kw-results-count">'+e+" "+knowhere_job_manager_localize.strings.results+"</div>"):a(".kw-results-count").replaceWith('<div class="kw-results-count">'+i.length+" "+knowhere_job_manager_localize.strings.results+"</div>"),a(".kw-listings-gmap").length&&void 0!==t)if(t.removeLayer(o),o=new L.MarkerClusterGroup({showCoverageOnHover:!1}),i.each(function(e,t){c(a(t),!0)&&(r+=1)}),0!=r){t.fitBounds(o.getBounds(),{padding:[50,50]}),t.addLayer(o);var s=t.getZoom(),l=o.getBounds();l=[(l._northEast.lat+l._southWest.lat)/2,(l._northEast.lng+l._southWest.lng)/2],Cookies.set("kw-bounds",JSON.stringify(l)),Cookies.set("kw-mapZoom",s)}else u()}else u()}function c(i,s){var d,c,u,p=i.data("categories"),g="";if(d=void 0===p||p.length?"kw-pin":"kw-pin kw-pin-empty",l(i.data("latitude"))||l(i.data("longitude")))return!1;var h=wp.template("knowhere-pin-selected-svg"),f=wp.template("knowhere-empty-icon-svg"),w=i.find(".kw-listing-item-icon").first(),m="<div class='"+d+"'>"+f()+"</div>";if(r.is(".single-job_listing")||r.is(".kw-page-add-listing")?a(".kw-single-map-category-icon").length&&(m="<div class='"+d+"'>"+h()+"<div class='kw-pin-icon'>"+a(".kw-single-map-category-icon").html()+"</div></div>"):w.length&&(m="<div class='"+d+"'>"+h()+"<div class='kw-pin-icon'>"+w.html()+"</div></div>"),c=L.marker([i.data("latitude"),i.data("longitude")],{icon:new n({html:m})}),void 0!==s){l(i.data("img"))||(u='<img src="'+i.data("img")+'" alt="" />'),i.hover(function(){a(c._icon).find(".kw-pin").addClass("kw-pin-selected")},function(){a(c._icon).find(".kw-pin").removeClass("kw-pin-selected")});var v=knowhere_job_manager_localize.pintpoint_event?knowhere_job_manager_localize.pintpoint_event:"click";i.find(".kw-listing-item-pintpoint")[v](function(o){o.preventDefault(),t.setView([i.data("latitude"),i.data("longitude")],20),a(e).on("update:map",function(){t.setView([i.data("latitude"),i.data("longitude")],20)})});var _=i.find(".kw-card-rating");_.length&&(g=_.length?_.html():"");var k=i.data("phone")?'<div class="kw-popup-phone">'+i.data("phone")+"</div>":"";c.bindPopup("<a class='kw-popup' href='"+i.data("permalink")+"'>"+u+"<div class='kw-popup-content'><h5 class='kw-popup-title'>"+i.find(".kw-listing-item-title a").html()+"</h5>"+g+"<div class='kw-popup-address'>"+i.find(".kw-listing-item-location").html()+"</div>"+k+"</div></a>").openPopup()}return o.addLayer(c),!0}function u(){var e=Cookies.get("kw-bounds"),n=Cookies.get("kw-mapZoom");void 0===e?(e=[46.073085,14.450286],n=9):e=JSON.parse(e),t.removeLayer(o),t.setView(e,n)}return{init:function(){if(a.knowhere_job_manager_mod.customizePadding(s),a.knowhere_job_manager_mod.eventHanlers(),a("#kw-listings-gmap").length){if("object"==typeof L&&L.hasOwnProperty("map")){t=L.map("kw-listings-gmap",{scrollWheelZoom:!1}),o=new L.MarkerClusterGroup({showCoverageOnHover:!1}),n=L.HtmlIcon.extend({options:{iconSize:[50,60],iconAnchor:[25,60],popupAnchor:[-1,-60]}}),s.on("pxg:refreshmap",function(){t._onResize()});var r=L.gridLayer.googleMutant({type:"roadmap"});if(t.addLayer(r),a("#kw-listings-gmap").is(".kw-listing-widget-gmap")){var l=a(".single_job_listing");void 0!==l.data("latitude")&&void 0!==l.data("longitude")?(c(l),t.addLayer(o),t.setView([l.data("latitude"),l.data("longitude")],13),a(e).on("update:map",function(){t.setView([l.data("latitude"),l.data("longitude")],13)})):a(".kw-listing-widget-gmap").hide()}else d(),a(".job_listings").on("updated_results",function(e,t){d(t.total_found)}),a(i).on("facetwp-loaded facetwp-refresh",function(e,t){a("select.facetwp-dropdown").length&&a("select.facetwp-dropdown").chosen(),d()})}}else a(".job_listings").on("updated_results",function(e,t){d(t.total_found)})}}})().init()},searchModule:function(){var t=parseInt(knowhere_job_manager_localize.min_price),o=parseInt(knowhere_job_manager_localize.max_price),n=knowhere_job_manager_localize.currency_symbol,i=knowhere_job_manager_localize.thousands_separator,r=function(e){for(var t=(e+="").split("."),o=t[0],n=t.length>1?"."+t[1]:"",a=/(\d+)(\d{3})/;a.test(o);)o=o.replace(a,"$1"+i+"$2");return o+n};if(a(".knowhere-tags-select").length){var d=a(".knowhere-tags-select").chosen();d.on("change",function(){a(".knowhere-active-tags").empty(),d.find(":selected").each(function(e,t){l(t.value)||(a('<div class="knowhere-active-tag">'+t.value+'<div class="knowhere-remove-tag"></div></div>').appendTo(".knowhere-active-tags").on("click",function(){a(this).remove(),a(t).attr("selected",!1),d.trigger("chosen:updated"),a('.knowhere-active-tags input[value="'+t.value+'"]').remove(),a(".job_listings").triggerHandler("update_results",[1,!1])}),a('<input type="hidden" name="job_tag[]" value="'+t.value+'" />').appendTo(".knowhere-active-tags"))}),a(".job_listings").triggerHandler("update_results",[1,!1])})}if(a(".search_feature").length&&a(".search_feature").on("change",function(){a(".job_listings").triggerHandler("update_results",[1,!1])}),a(".filter-job-regions").length){var c=a(".filter-job-regions").chosen();c.on("change",function(){a(".knowhere-active-regions").empty(),c.find(":selected").each(function(e,t){l(t.value)||a('<input type="hidden" name="search_region" value="'+t.value+'" />').appendTo(".knowhere-active-regions")}),a(".job_listings").triggerHandler("update_results",[1,!1])})}function u(){var e=a('.job_filters input[name="search_keywords"]'),t=a('.kw-controls-form input[name="search_keywords"]').val();e.length&&(t?e.val(t):e.val(" "))}a(".knowhere-search-jobs-frontpage .job-manager-category-dropdown, .search_bedrooms, .search_bathrooms, .job-manager-filter").chosen(),a("#job_type").chosen({search_contains:!0}),a(".kw-finder-filters").on(a.knowhere.EVENT,".reset",function(){var t=a(this).closest("div.job_listings"),o=t.find("form");o.find(':input[name="search_keywords"], :input[name="search_location"], .job-manager-filter').not(':input[type="hidden"]').val("").trigger("chosen:updated"),o.find(':input[name^="search_categories"]').not(':input[type="hidden"]').val("").trigger("chosen:updated"),a(':input[name="filter_job_type[]"]',o).not(':input[type="hidden"]').attr("checked","checked"),o.find(".min-price-range-hidden, .max-price-range-hidden").val(""),o.find(".knowhere-active-tags, .knowhere-active-regions").empty(),o.find(".knowhere-tags-select, .filter-job-types, .filter-job-regions").trigger("chosen:updated"),o.find(".knowhere-tags-select, .filter-job-types, .filter-job-regions, .search_bedrooms, .search_region, .search_bathrooms").find(":selected").each(function(e,t){a(t).attr("selected",!1)}).end().trigger("chosen:updated"),o.find(".search_feature:checked").each(function(e,t){a(t).attr("checked",!1)}),o.find('input[name="search_keywords"], .search_bedrooms, .search_region, .search_bathrooms').each(function(e,t){a(t).val("").trigger("chosen:updated")});var n=t.find(".kw-job-filters-search");return n.length&&n.empty(),t.triggerHandler("reset"),t.triggerHandler("update_results",[1,!1]),function(t,o){if(s){var n=t.find(".job_filters"),i=a(n).serialize(),r=a("div.job_listings").index(t);e.history.replaceState({id:"job_manager_state",page:o,data:i,index:r},"",location+"#s=1")}}(t,1),!1}),a('.kw-controls-form input[name="search_keywords"]').change(function(){u()}),a(".kw-search-keywords-btn").on(a.knowhere.EVENT,function(e){e.preventDefault(),u(),a(this).closest("div.job_listings").triggerHandler("update_results",[1,!1])});a(".price-range-advanced").length&&function(e,t){a(".price-range-advanced").slider({range:!0,min:e,max:t,values:[e,t],slide:function(e,t){var o=n+r(t.values[0]),i=n+r(t.values[1]);a(".min-price-range-hidden").val(o),a(".max-price-range-hidden").val(i),a(".min-price-range").text(o),a(".max-price-range").text(i)},stop:function(e,t){a(this).closest("div.job_listings").triggerHandler("update_results",[1,!1])}});var o=n+r(a(".price-range-advanced").slider("values",0)),i=n+r(a(".price-range-advanced").slider("values",1));a(".min-price-range").text(o),a(".max-price-range").text(i)}(t,o),a('.kw-controls-form [name^="search_sort"]').change(function(){!function(){var e=a('.job_filters [name^="search_sort"]'),t=a(this).val();e.length&&t&&(e.find("option").each(function(){a(this).attr("selected",!1)}),a('.job_filters [name^="search_sort"] option[value='+t+"]").attr("selected","selected"))}()}),a("button.kw-update-form").on(a.knowhere.EVENT,function(){a(this).parents("form").submit()}),a("form.job_search_form input").keypress(function(e){13==e.which&&(e.preventDefault(),a("form.job_search_form").submit())})},initLayoutControl:function(){this.controls=a(".kw-listing-layout-control"),this.controls.length&&this.initLayoutModule(),a(".kw-layout-control").on(a.knowhere.EVENT,function(t){a(e).trigger("pxg:refreshmap"),t.preventDefault();var o=a(this).data("col"),n=[];a(this).siblings().each(function(){n.push(a(this).data("col"))});var i=a(".kw-flex-holder"),r=n[0],s=n[1];i.find(".job_listings").css("opacity",0),i.removeClass(r).removeClass(s).removeClass("kw-loading-opacity").addClass(o),a(this).addClass("kw-active").siblings().removeClass("kw-active"),setTimeout(function(){i.addClass("kw-loading-opacity"),a(".kw-property-slideshow.owl-carousel").trigger("refresh.owl.carousel")},350)}),a(".kw-search-adjust").on(a.knowhere.EVENT,function(e){if(e.preventDefault(),a(".kw-finder-filters").length){var t=a(".kw-flex-holder");t.is(".kw-moved")?t.removeClass("kw-moved"):t.addClass("kw-moved")}})},initLayoutModule:function(){this.controls.on(a.knowhere.EVENT,{self:this},this.changeLayout)},changeLayout:function(t){var o=a(this),n=a(".kw-listings");return!!n.find(".job_listing").length&&(o.addClass("kw-active").siblings(".kw-listing-layout-control").removeClass("kw-active"),n.removeClass("kw-grid-view kw-list-view").addClass("kw-"+o.data("layout")+"-view"),n.hasClass("kw-isotope")&&n.isotope("layout"),a(e).trigger("pxg:refreshmap"),t.preventDefault(),!1)}},a.knowhere_job_manager_mod.detailsNav=function(){a(".kw-additional-nav a").add("#knowhere-write-review-button").add("#kw-write-review-link").on("click",function(e){e.preventDefault();var t=a(a(this).attr("href"));if(t.length){var o=t.offset().top;o-=a("#header").outerHeight(),a("body, html").animate({scrollTop:o},600)}})},a.knowhere_job_manager_mod.contactForm=function(){a("#knowhere-detail-contact-form-btn").click(function(e){e.preventDefault();var t=a(this).parents("form");a.ajax({type:"post",url:knowhere_job_manager_localize.ajaxurl,data:t.serialize(),method:t.attr("method"),dataType:"JSON",beforeSend:function(){},success:function(e){e.success,a(".knowhere-contact-form-messages").empty().append(e.msg)}})})},a.knowhere_job_manager_mod.popupLink=function(e){if(a.isFunction(a.fn.magnificPopup)){var t=e||a(".kw-share-popup-link");t.length&&t.magnificPopup({type:"inline",preloader:!1,callbacks:{beforeOpen:function(){}}})}},a.knowhere_job_manager_mod.openHoursToggle=function(){var e=a(".kw-hours-holder");if(a(".kw-hours-holder").length){var t=a(".kw-invisible-hours",e);a(".kw-switch-toggle").on(a.knowhere.EVENT,function(o){o.preventDefault(),e.hasClass("kw-visible")?(e.removeClass("kw-visible"),t.stop().animate({opacity:0},300,function(){a(this).slideUp(200)})):(e.addClass("kw-visible"),t.stop().animate({opacity:1},50,function(){a(this).slideDown(200)}))})}},a.knowhere_job_manager_mod.visible_search_jobs=function(){function e(e){var t=a(e||".job_filters");t.length&&t.addClass("visible-filters")}a("body").hasClass("kw-using-facetwp")?(e(),a(i).on("facetwp-refresh",function(){setTimeout(function(){e()},10)})):(a(".job_listings").on("update_results",function(t,o,n,i){e()}),a(".kw-listings-search .job_filters").length&&e(".kw-listings-search .job_filters"),a(".kw-listings-controls-wrap .kw-options-list.sort-param-orderby").on("click","li",function(e){e.preventDefault();var t=a(this).data("value");if(t){var o=a(this).closest("div.job_listings");o.data("orderby",t),o.triggerHandler("update_results",[1,!1])}}))},a.knowhere_job_manager_mod.autocompleteLocation=function(){"object"==typeof google&&"object"==typeof google.maps&&google.maps.event.addDomListener(e,"load",function(){if(a("#job_location").length){var e=a("#job_location")[0];new google.maps.places.Autocomplete(e)}})},a.knowhere_job_manager_mod.profileFileUploader=function(){var t=a(".profile-file-upload");t.length&&(t.each(function(e,t){var o=a(t),n=o.attr("id"),i=a('label[for="'+n+'"]');a('<div class="kw-file-input-field"><div class="kw-file-input-inner"><span class="lnr icon-picture kw-lead-icon"></span><span class="lnr icon-plus"></span>'+knowhere_job_manager_localize.strings["wp-job-manager-file-upload"]+"</div></div>").insertAfter(o).on("click",function(){i.trigger("click")})}),a("body").on("click",".job-manager-profile-remove-uploaded-file",function(){return a(this).closest(".job-manager-uploaded-file").remove(),!1}),t.each(function(){a(this).fileupload({dataType:"json",dropZone:a(this),url:knowhere_job_manager_localize.ajax_url.toString().replace("%%endpoint%%","upload_file"),maxNumberOfFiles:1,formData:{script:!0},add:function(t,o){var n=a(this),i=n.closest("form"),r=n.parent().find(".job-manager-uploaded-files"),s=[],l=a(this).data("file_types");if(l){var d=new RegExp("(.|/)("+l+")$","i");o.originalFiles[0].name.length&&!d.test(o.originalFiles[0].name)&&s.push(job_manager_ajax_file_upload.i18n_invalid_file_type+" "+l)}s.length>0?e.alert(s.join("\n")):(i.find(':input[type="submit"]').attr("disabled","disabled"),o.context=a('<progress value="" max="100"></progress>').appendTo(r),o.submit())},progress:function(e,t){var o=parseInt(t.loaded/t.total*100,10);t.context.val(o)},fail:function(t,o){var n=a(this).closest("form");o.errorThrown&&e.alert(o.errorThrown),o.context.remove(),n.find(':input[type="submit"]').removeAttr("disabled")},done:function(t,o){var n=a(this),i=n.closest("form"),r=n.parent().find(".job-manager-uploaded-files"),s=["jpg","gif","png","jpeg","jpe"];o.context.remove(),void 0===o.result.success||o.result.success||e.alert(o.result.data),a.each(o.result.files,function(t,o){var i;o.error?e.alert(o.error):(a.inArray(o.extension,s)>=0&&(i=a.parseHTML(knowhere_job_manager_localize.js_field_html_img),a(i).find(".job-manager-uploaded-file-preview img").attr("src",o.url)),a(i).find(".input-text").val(o.url),a(i).find(".input-text").attr("name","current_"+n.attr("name")),r.html(i))}),i.find(':input[type="submit"]').removeAttr("disabled")}})}))},a(function(){var t=a(e),o=a("body");a("#job_preview").length&&(o.addClass("single-job_listing single-job_listing_preview"),t.trigger("pxg:refreshmap"),t.trigger("debouncedresize"),a("#job_preview").css("opacity",1)),a(".kw-button-view").on(a.knowhere.EVENT,function(e){e.preventDefault(),o.toggleClass("kw-show-map"),a("html, body").scrollTop(0),setTimeout(function(){t.trigger("pxg:refreshmap")})}),a(".kw-button-filter").on(a.knowhere.EVENT,function(e){e.preventDefault(),o.hasClass("kw-show-filters")&&t.scrollTop(0),o.toggleClass("kw-show-filters")}),a(".kw-show-more-list-button").on(a.knowhere.EVENT,function(e){e.preventDefault();var t=a(this),o=t.parents(".kw-categories-item-list").children("li.kw-list-item"),n=t.data("show");a(".kw-categories-inner");if("more"==n){n=t.data("show","less"),t.removeClass("kw-more-list").addClass("kw-less-list"),o.removeClass("kw-show-less-list").addClass("kw-show-more-list");var i=knowhere_job_manager_localize.i18n.show_less}else{n=t.data("show","more"),t.removeClass("kw-less-list").addClass("kw-more-list"),o.removeClass("kw-show-more-list").addClass("kw-show-less-list");i=knowhere_job_manager_localize.i18n.show_more}t.text(i)}),a.knowhere_job_manager_mod.popupLink(),a.knowhere_job_manager_mod.detailsNav(),a.knowhere_job_manager_mod.contactForm(),a.knowhere_job_manager_mod.visible_search_jobs(),a.knowhere_job_manager_mod.openHoursToggle(),a.knowhere_job_manager_mod.autocompleteLocation(),a.knowhere_job_manager_mod.profileFileUploader(),r.controllers.dataService=new r.DataServices.Job,r.controllers.dataService.auto&&r.controllers.dataService.autoComplete(r.controllers.dataService.auto)}),a(e).load(function(){a.knowhere_job_manager_mod.init(),a.knowhere_job_manager_mod.initScroll(),a(".knowhere-tooltip-trigger").on(a.knowhere.EVENT,function(e){e.preventDefault(),a(this).parents("form").toggleClass("active")});var t=a(".wp-job-manager-bookmarks-form");a(i).on("click.tooltipFocusOut",function(e){t.hasClass("active")&&!a(e.target).closest(t).length&&(e.preventDefault(),t.removeClass("active"))}),a(e).trigger("pxg:refreshmap")})}(window);